<app-toast-custom [params]="objToast"></app-toast-custom>

<div class="col py-0">
    <div class="mt-1">
        <form [formGroup]="fControl" (ngSubmit)="btnGetConsulta()">
            <section class="rounded shadow  p-2">

                <div class="row g-2 mb-2">
                    <div class="col-2">
                        <label class="me-2 fw-bold" for="consulta1">Consultar por:</label>
                    </div>
                    <div class="col-9">
                        <div class="input-group">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="txtconsulta" id="consulta1" value="C"
                                    (click)="btnConsulta($event.target)" formControlName="txtconsulta">
                                <label class="form-check-label" for="consulta1">Caducidades</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="txtconsulta" id="consulta2" value="P"
                                    (click)="btnConsulta($event.target)" formControlName="txtconsulta">
                                <label class="form-check-label" for="consulta2">Prescripciones</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="txtconsulta" id="consulta3"
                                    value="CP" (click)="btnConsulta($event.target)" formControlName="txtconsulta">
                                <label class="form-check-label" for="consulta3">Proximas Caducidades</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="txtconsulta" id="consulta4"
                                    value="PP" (click)="btnConsulta($event.target)" formControlName="txtconsulta">
                                <label class="form-check-label" for="consulta4">Proximas Prescripciones</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row  g-3 mb-2">
                    <div class="col-2">
                        <label class="me-2 fw-bold" for="startDate">Rango de fechas:</label>
                    </div>
                    <div class="col-3">
                        <!-- <label for="startDate">Start</label> -->
                        <input id="startDate" class="form-control" type="date" formControlName="txtfechainicial" />
                        <span id="startDateSelected"></span>
                    </div>
                    <div class="col-3">
                        <!-- <label for="endDate">End</label> -->
                        <input id="endDate" class="form-control" type="date" formControlName="txtfechafinal" />
                        <span id="endDateSelected"></span>
                    </div>
                </div>

                <div class="row g-2 mb-2">
                    <div class="col-2">
                        <label class="me-2 fw-bold" for="tipoConsulta1">Tipo de consulta:</label>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="txttipo" id="tipoConsulta1" value="N"
                                    (click)="btnChTipoConsulta($event.target)" formControlName="txttipo">
                                <label class="form-check-label" for="tipoConsulta1">Nacional</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="txttipo" id="tipoConsulta2" value="S"
                                    (click)="btnChTipoConsulta($event.target)" formControlName="txttipo">
                                <label class="form-check-label" for="tipoConsulta2">Seccional</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="txttipo" id="tipoConsulta3" value="M"
                                    (click)="btnChTipoConsulta($event.target)" formControlName="txttipo">
                                <label class="form-check-label" for="tipoConsulta3">Municipio</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row g-3 needs-validation mb-2">
                    <div class="col-2"></div>
                    <div class="col-3">
                        <div class="form-floating">
                            <select class="form-select" id="seccional" (change)="chSeccional($event.target)"
                                formControlName="txtseccional">
                                <option selected value="">Seccional</option>
                                <option *ngFor="let item of (lSeccional$ | async)?.Resultado"
                                    [value]="item.idDepartamento">
                                    {{item.descripcion}} - {{item.departamento?.descripcion}}
                                </option>
                            </select>
                            <label for="seccional">Seleccione la Seccional</label>
                        </div>
                        <div class="text-danger"
                            *ngIf="fControl.get('txtseccional')?.invalid && (fControl.get('txtseccional')?.dirty || fControl.get('txtseccional')?.touched)">
                            Ingrese la seccional
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="form-floating">
                            <select class="form-select" id="municipio" formControlName="txtmunicipio">
                                <option selected value="">Municipio</option>
                                <option *ngFor="let item of (lSecretaria$ | async)?.Resultado"
                                    [value]="item.idSecretaria">
                                    {{item.descripcion}}
                                </option>
                            </select>
                            <label for="municipio">Seleccione el Municipio</label>
                        </div>
                        <div class="text-danger"
                            *ngIf="fControl.get('txtmunicipio')?.invalid && (fControl.get('txtmunicipio')?.dirty || fControl.get('txtmunicipio')?.touched)">
                            Ingrese la secretaria
                        </div>
                    </div>

                </div>

                <div class="row g-3 needs-validation mb-2">
                    <div class="mx-auto p-2">
                        <button type="submit" class="btn btn-primary" [disabled]="!fControl.valid">Consultar</button>
                    </div>
                </div>

                <div >
                    <p class="placeholder-glow">
                      <span class="placeholder col-12"></span>
                    </p>
            
                    <p class="placeholder-wave">
                      <span class="placeholder col-12"></span>
                    </p>
                  </div>

            </section>

        </form>
    </div>
</div>